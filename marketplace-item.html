<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Item Detail - Trenches Marketplace</title>
    <meta name="description" content="View item details and purchase collectibles on the Trenches Marketplace.">
    <link rel="icon" type="image/jpeg" href="favicon.jpg">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="marketplace.css">
</head>
<body class="marketplace-page">
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-container">
            <div class="nav-left">
                <a href="/" class="brand-logo">
                    <img src="trenches-logo.png" alt="TRENCHES" class="nav-logo-img">
                </a>
                <ul class="nav-links">
                    <li><a href="item-shop.html">Item Shop</a></li>
                    <li><a href="marketplace.html" class="active">Marketplace</a></li>
                    <li><a href="#">Leaderboard</a></li>
                    <li><a href="#">Rewards</a></li>
                    <li><a href="#">Tournament</a></li>
                    <li><a href="https://discord.gg/trenches" target="_blank">Discord</a></li>
                    <li><a href="https://x.com/thetrenchesgame" target="_blank">X</a></li>
                </ul>
            </div>
            <div class="nav-right">
                <div class="search-box">
                    <svg class="search-icon" viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                    </svg>
                    <input type="text" placeholder="Search">
                </div>
                <button class="globe-btn">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                    </svg>
                </button>
                <a href="#" class="sign-in-btn">Sign in</a>
                <a href="#" class="download-btn">Download</a>
            </div>
        </div>
    </nav>

    <!-- Item Detail Content -->
    <div class="item-detail-wrapper">
        <div class="item-detail-layout">
            <!-- Left: Large Item Display -->
            <div class="item-display-container" id="item-display-container">
                <div class="item-display-visual" id="item-display-visual"></div>
                <div class="item-display-pedestal"></div>
            </div>

            <!-- Right: Detail Panel -->
            <div class="item-detail-panel">
                <div class="item-detail-panel-inner">
                    <a href="marketplace.html" class="item-back-btn">
                        <svg viewBox="0 0 24 24" width="16" height="16"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                        Back to Marketplace
                    </a>

                    <h1 class="item-detail-name" id="item-name"></h1>
                    <p class="item-detail-description" id="item-description"></p>

                    <div class="item-detail-specs">
                        <div class="spec-row">
                            <span class="spec-label">Type</span>
                            <span class="spec-value" id="item-type"></span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-label">Rarity</span>
                            <span class="spec-value" id="item-rarity"></span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-label">Season</span>
                            <span class="spec-value" id="item-season"></span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-label">Program</span>
                            <span class="spec-value" id="item-program"></span>
                        </div>
                        <div class="spec-row spec-row-details">
                            <span class="spec-label">Details</span>
                            <span class="spec-value" id="item-specs"></span>
                        </div>
                    </div>

                    <div class="item-detail-purchase">
                        <div class="item-detail-price" id="item-price"></div>
                        <button class="item-buy-btn" id="buy-btn">Buy Now</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="footer-top">
            <a href="/" class="footer-logo">OUR TRENCHES</a>
            <div class="social-links">
                <a href="#" class="social-icon"><svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"/></svg></a>
                <a href="https://x.com/thetrenchesgame" target="_blank" class="social-icon"><svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
                <a href="https://discord.gg/trenches" target="_blank" class="social-icon"><svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M11.64 5.93h1.43v4.28h-1.43m3.93-4.28H17v4.28h-1.43M7 2L3.43 5.57v12.86h4.28V22l3.58-3.57h2.85L20.57 12V2m-1.43 9.29l-2.85 2.85h-2.86l-2.5 2.5v-2.5H7.71V3.43h11.43z"/></svg></a>
                <a href="#" class="social-icon"><svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"/></svg></a>
            </div>
        </div>
        <div class="footer-links">
            <div class="footer-column">
                <h4>Main</h4>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="item-shop.html">Item Shop</a></li>
                    <li><a href="marketplace.html">Marketplace</a></li>
                    <li><a href="#">News</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>More</h4>
                <ul>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Competitive</a></li>
                    <li><a href="#">T-Bucks card</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Support</h4>
                <ul>
                    <li><a href="#">Help</a></li>
                    <li><a href="#">Community guidelines</a></li>
                    <li><a href="https://discord.gg/trenches" target="_blank">Discord</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p class="copyright">&copy; 2026 Our Trenches. All rights reserved.</p>
            <div class="footer-legal">
                <a href="#">Terms of service</a>
                <a href="#">Privacy policy</a>
            </div>
            <button class="back-to-top" onclick="window.scrollTo({top:0,behavior:'smooth'})">Back to top &uarr;</button>
        </div>
    </footer>

    <script src="marketplace-data.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const params = new URLSearchParams(window.location.search);
        const itemId = params.get('id');

        if (!itemId) {
            window.location.href = 'marketplace.html';
            return;
        }

        const item = ITEMS.find(i => i.id === itemId);
        if (!item) {
            window.location.href = 'marketplace.html';
            return;
        }

        const rarity = RARITIES[item.rarity];

        // Set page title
        document.title = `${item.name} - Trenches Marketplace`;

        // Display container background
        document.getElementById('item-display-container').style.background = rarity.bg;

        // Item visual
        document.getElementById('item-display-visual').textContent = item.emoji;

        // Item details
        document.getElementById('item-name').textContent = item.name;
        document.getElementById('item-description').textContent = item.description;
        document.getElementById('item-type').textContent = item.type;
        document.getElementById('item-rarity').innerHTML = `<span class="rarity-dot" style="background:${rarity.color}"></span> <span style="color:${rarity.color}">${rarity.label}</span>`;
        document.getElementById('item-season').textContent = item.season;
        document.getElementById('item-program').textContent = item.program;
        document.getElementById('item-specs').textContent = item.specs;

        // Price
        document.getElementById('item-price').innerHTML = `<span class="tbucks-icon">${TBUCKS_SVG}</span> ${item.price.toLocaleString()}`;

        // Buy button
        document.getElementById('buy-btn').addEventListener('click', () => {
            let collection = JSON.parse(localStorage.getItem('trenches-collection') || '[]');
            if (!collection.includes(item.id)) {
                collection.push(item.id);
                localStorage.setItem('trenches-collection', JSON.stringify(collection));
            }
            const btn = document.getElementById('buy-btn');
            btn.textContent = 'Added to Collection!';
            btn.style.background = '#30b030';
            btn.style.color = '#fff';
            setTimeout(() => {
                btn.textContent = 'Buy Now';
                btn.style.background = '';
                btn.style.color = '';
            }, 2000);
        });

        // Navbar scroll
        const nav = document.querySelector('.main-nav');
        window.addEventListener('scroll', () => {
            nav.style.background = window.scrollY > 50 ? 'rgba(10, 22, 40, 0.98)' : 'rgba(10, 22, 40, 0.85)';
        });
    });
    </script>
</body>
</html>
